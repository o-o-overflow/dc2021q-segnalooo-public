section .text
global _start

_start:

 

 
 

 

mov r10, rbx
add rsp, [rsp]  
pop rbx
pop rdx
pop rdi

 
 

_nanoloop:
add rdi, rbx  
xor eax, eax  
mov al, 35  
syscall  
cmp al,0xea
je _out
ja _nanoloop
mov rbx, rdx
jmp _nanoloop


_out:
pop rbx
mov rbp, rdi
add rbp, rbx   


mov rdi, rsp
jmp _after_rdi_pointer
pop rdi
_after_rdi_pointer:
pop rcx 
pop rsi
pop rdx
pop rax
pop rcx 

 
 
 
add qword [rsp-8], r10  
jmp rbp

 

 
 
 
 
 
 
 


 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 


 
 

